(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=i(o);fetch(o.href,r)}})();function I(e,s){return`Voici une ${e}:
    ${s}
    En tant que Product Manager expert, évalue la complétude de la ${e} en attribuant une note en pourcentage (%) de façon sévère. Voici les étapes à suivre pour cette évaluation :
    Commence par attribuer une note de complétude initiale en pourcentage (%) à la ${e} telle qu'elle est présentée. Cette note qui doit être sévère reflète ta première impression de la complétude de la ${e}.
    Réévalue ta note initiale si la ${e} remplit tous les critères de la méthode des 3C et de la méthode INVEST. Fais baisser la note si ces critères sont incomplets ou non remplis.
    Réévalue ta note une seconde fois en prenant en compte la présence des éléments suivants :
    - La présence d'un identifiant unique clairement défini pour le document.
    - L'existence d'une section dédiée à la contextualisation de la ${e}, qui explique le contexte, le besoin auquel elle répond et les objectifs de manière claire et compréhensible.
    - L'inclusion d'une section spécifique aux critères d'acceptation, qui doivent être concrets, complets, exacts et précis.
    - La présence d'une section technique expliquant comment le ${e} sera implémentée.
    - L’utilisateur type est clairement identifié
    Ensuite, affine ta note en prenant également en compte la présence d'informations liées aux critères de qualité suivants :
    - Complétude fonctionnelle
    - Performance
    - Sécurité
    - interopérabilité
    - Maintenabilité
    - Compatibilité
    - Fiabilité
    Ensuite, en prenant en compte les critères précédents, compléte ta notation avec tous les critères suplémentaires que tu jugeras pertinents pour garantir la meilleure qualité et fiabilité de la note.
    Enfin, re-génère 3 fois le prompt et fais la moyenne des scores en notant toujours très sévèrement.
    L'objectif de cette évaluation est de déterminer de manière sévère mais objective la complétude de la user story en tenant compte de plusieurs aspects, y compris les éléments essentiels, les critères d'acceptation, et les critères de qualité. La note finale doit refléter de manière précise le niveau de complétude de la user story. Sois aussi précis que possible dans votre évaluation.
    `}function P(e,s,i){return`Voici une ${e}:
    ${s}
    En tant qu’expert métier et QA, tu dois effectuer la relecture fonctionnelle et technique de cette ${e}. L'objectif de cette relecture est de compléter le document, de livrer un rapport de revue et de créer des cas de test
Identifie clairement l'identifiant unique du document et s'il n'y en a pas note une alerte
S’il n’y a pas de section “critères d’acceptation” dans le document note une alerte et propose des critères d’acceptations explicites qui définissent clairement les normes de réussite du produit
Ensuite, selon toi, quelles informations sont manquantes, incomplètes ou inexactes ? Donne des exemples concrêts.
Ensuite, affine ta relecture en la complétant avec les critères de qualité suivants, pour chacun de ces critères, fournis de nombreux détails spécifiques et des exemples concrets pour évaluer le document, identifie les lacunes et propose des améliorations : 
Performance
Sécurité
interopérabilité
Maintenabilité
Compatibilité
Fiabilité
Enfin, en prenant en compte les remarques générées au cours de cette relecture, compléte la liste avec toutes les informations supplémentaires pertinentes et nouvelles que tu juges nécessaires pour garantir la qualité et la complétude du document. Ce rapport de revue doit être exhaustif et précis pour orienter les prochaines étapes du projet.
Rédige en ${i}
    `}function A(e,s,i){return`Voici une ${e}:
    ${s}
    En tant qu’expert QA, liste un maximum de cas de test nécessaires pour couvrir à 100% cette ${e} incluant les cas de test positifs, les cas de test négatifs et les edge cases.
Pour chaque cas de test, tu dois rédiger les prérequis de test nécessaire.
Pour chaque cas de test, tu dois rédiger toutes les étapes de test avec le maximum de détails sous la forme d’un tableau avec 1 colonne contenant toutes les actions précisément décrites et exhaustives et 1 colonne contenant les résultats attendus précisément décrits et exhaustifs. Donne un maximum d'actions par cas de test avec toutes les précisions de façon compréhensible et ordonnée.
Enfin, en tenant compte des cas de test que tu as générés, complète la liste avec des cas de test supplémentaires et nouveaux.
Rédige en ${i}
    `}function T(e){return`En tant qu'expert en assurance qualité (QA) spécialisé dans l'automatisation, rédige des scripts d'automatisation en langage Javascript, en utilisant Cypress, pour chacun des cas de test précédemment définis. Chaque cas de test doit être couvert par un script de test automatisé. Voici les directives spécifiques :
Pour chaque cas de test, rédige un script d'automatisation en langage Cypress qui effectue les actions nécessaires pour exécuter le test de manière automatisée. Assurez-vous que chaque script est clair, bien documenté et suit les meilleures pratiques en matière de codage.
Après avoir généré les scripts de test automatisés, assure-toi de les compléter avec toutes les informations supplémentaires importantes. Cela peut inclure des commentaires décrivant la logique du test, les données d'entrée requises, les assertions pour vérifier les résultats, etc. Veille à ce que chaque script soit accompagné de documentation précise pour faciliter la compréhension et la maintenance ultérieure.
Fourni également une liste d'éléments à prendre en compte et à surveiller en ce qui concerne les scripts de test automatisés que tu as proposés. Cela pourrait inclure des considérations de stabilité, de gestion des dépendances, de gestion des données de test, et d'autres aspects pertinents de l'automatisation des tests.
L'objectif est de créer des scripts d'automatisation robustes et complets qui permettent d'exécuter tous les cas de test de manière automatisée, tout en assurant la qualité et la fiabilité des tests automatisés. Soyez précis dans la rédaction de vos scripts et de votre documentation, et veillez à ce que les scripts soient maintenables à long terme.
Rédige en ${e}.`}async function E(e,s){console.log("Sending prompt ",e);try{const i=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${{}.VITE_OPENAI_API_KEY_MVP}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4",messages:s})});if(!i.ok)throw new Error("Network response was not ok");const o=(await i.json()).choices[0].message.content;return console.log(`${e} response`,o),o}catch(i){alert(`An error occurred with ${e}. Please try again.`),console.error("Error:",i)}}function $(e){var f,h,x,b,L;const i=e.target.result.split(`
`);i.shift();const a=i.join(`
`),r=new DOMParser().parseFromString(a,"text/xml"),c=((f=r.getElementsByTagName("title")[1])==null?void 0:f.textContent)||"",g=((h=r.getElementsByTagName("description")[1])==null?void 0:h.innerHTML)||"",d=((x=r.getElementsByTagName("key")[0])==null?void 0:x.textContent)||"",u=((b=r.getElementsByTagName("summary")[0])==null?void 0:b.textContent)||"",p=((L=r.getElementsByTagName("type")[0])==null?void 0:L.textContent)||"";return console.log({xmlDoc:r,title:c,description:g,summary:u,issueType:p}),{issueType:p,description:g,title:c,key:d}}async function S(e,s,i,a,o){document.getElementById("loaded-xml-results").innerHTML=`You've loaded the ${e} ${i} (${a}). <br />${s}`,document.getElementById("drag-drop-section").hidden=!0,document.getElementById("drag-drop-inner-section").hidden=!0,document.getElementById("loaded-xml-section").hidden=!1,document.getElementById("answer-1-results").textContent="Reviewing the user story now..",document.getElementById("answer-1").hidden=!1;const r=I(e,s),c=await E("0 - Scoring prompt",[{role:"user",content:r}]),g=/(\d+)%/g;let d,u=[];for(;(d=g.exec(c))!==null;)u.push(d[1]);const p=u[u.length-1];console.log("Scores",{percentages:u,latestPercentage:p});const f=P(e,s,o),h=await E("1 - Reviewing prompt",[{role:"user",content:f}]);document.getElementById("answer-1-results").innerHTML=`Your ${e} score is: ${p} <br/><br/>${h.trim().replace(/\n/g,"<br>")}`,document.getElementById("break-1").hidden=!1,document.getElementById("section-2").hidden=!1}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("languageDropdown"),s=document.getElementById("dropzone"),i=document.getElementById("fileInput"),a=document.getElementById("errorText"),o=document.getElementById("answer-2"),r=document.getElementById("break-2"),c=document.getElementById("section-3"),g=document.getElementById("answer-3");function d(t){if(t&&t.type==="text/xml"){console.log("File accepted:",t.name),a.textContent="",a.classList.add("hidden");const n=new FileReader;n.onload=function(l){const{issueType:m,description:y,title:v,key:q}=$(l),w=e.textContent;console.log("LANGUAGE",w),S(m,y,v,q,w),u(m,y)},n.readAsText(t)}else a.textContent="Please drop a valid XML file.",a.classList.remove("hidden")}function u(t,n){document.getElementById("goToSection2").addEventListener("click",function(){p(t,n)})}async function p(t,n){const l=e.textContent;console.log("LANGUAGE",l);const m=A(t,n,l);document.getElementById("answer-2-results").textContent="Generating test cases...",o.hidden=!1;const v=(await E("2 - Test case generator prompt",[{role:"user",content:m}])).trim();(await E("2 - Test case generator prompt",[{role:"user",content:m}])).trim(),document.getElementById("answer-2-results").innerHTML=v.replace(/\n/g,"<br>"),r.hidden=!1,c.hidden=!1,document.getElementById("goToSection3").addEventListener("click",function(){f(v)})}async function f(t,n,l){const m=e.textContent;console.log("LANGUAGE",m);const y=T(m);document.getElementById("answer-3-results").textContent="Writing automated tests with Cypress...",g.hidden=!1;const v=await E("3 - Test case generator prompt",[{role:"user",content:`Here are the test cases you generated before. /n${t}.`},{role:"user",content:y}]);document.getElementById("answer-3-results").innerHTML=v.trim().replace(/\n/g,"<br>").replace(/```(\w+)/g,'<pre><code class="$1">').replace(/```/g,"</code></pre>"),document.querySelectorAll("pre code").forEach(q=>{hljs.highlightBlock(q)})}function h(t){if(t.preventDefault(),s.style.border="2px dashed #9CA3AF",t.dataTransfer.items){const n=t.dataTransfer.items[0];if(n.kind==="file"&&n.type==="text/xml"&&t.dataTransfer.files.length===1){const l=n.getAsFile();d(l)}else a.textContent="Please drop a valid XML file.",a.classList.remove("hidden")}}function x(t){t.preventDefault(),s.style.border="2px dashed #3B82F6"}function b(){s.style.border="2px dashed #9CA3AF"}function L(){const t=i.files[0];d(t)}function B(t){t.stopPropagation();const n=document.getElementById("languageDropdownContent");n.hasAttribute("hidden")?n.removeAttribute("hidden"):n.setAttribute("hidden","")}function C(t){t.preventDefault(),t.stopPropagation();const n=document.getElementById("languageDropdown"),l=t.target.textContent.trim();n.innerHTML=l+n.innerHTML.substr(n.innerHTML.indexOf("<svg")),document.getElementById("languageDropdownContent").setAttribute("hidden","")}document.getElementById("language-english").addEventListener("click",C),document.getElementById("language-french").addEventListener("click",C),document.getElementById("language-spanish").addEventListener("click",C),document.addEventListener("click",t=>{const n=document.getElementById("languageDropdownContent");n.hasAttribute("hidden")||n.setAttribute("hidden","")}),e.addEventListener("click",B),i.addEventListener("change",L),s.addEventListener("drop",h),s.addEventListener("dragover",x),s.addEventListener("dragleave",b)});
